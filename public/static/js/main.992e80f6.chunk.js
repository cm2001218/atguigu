(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1217:function(e,t,a){},1218:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),s=a(26),l=a(27),i=a(29),u=a(28),m=a(30),d=a(119),p=a(153),f=(a(84),a(38)),h=(a(111),a(53)),g=(a(133),a(13)),y=a(23),b=a.n(y),v=a(40),E=(a(112),a(43)),O=(a(134),a(46)),w=(a(533),a(250)),k=a.n(w),j=a(501),C=a(336),S=a.n(C);function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){("GET"===a?S.a.get(e,{params:t}):S.a.post(e,t)).then(function(e){n(e.data)}).catch(function(e){E.a.error("request error"+e.message)})})}var N=a(503),P=a.n(N),I=function(e,t){return x("/login",{username:e,password:t},"POST")},A=function(e){return x("/manage/category/list",{parentId:e})},_=function(e){return x("/manage/category/info",{categoryId:e})},T=function(e){return x("/manage/category/add",{parentId:e.parentId,categoryName:e.categoryName},"POST")},U=function(e){return x("/manage/category/update",{categoryId:e.categoryId,categoryName:e.categoryName},"POST")},D=function(e,t){return x("/manage/product/list",{pageNum:e,pageSize:t})},R=function(e,t,a,n){return x("manage/product/search",Object(j.a)({pageNum:e,pageSize:t},n,a))},M=function(e,t){return x("/manage/product/updateStatus",{productId:e,status:t},"POST")},F=function(e){return x("/manage/product/"+(e._id?"update":"add"),e,"POST")},L=function(e){return x("/manage/img/delete",{name:e},"POST")},V=function(){return x("/manage/role/list")},W=function(e){return x("/manage/role/add",{roleName:e},"POST")},q=function(e){return x("/manage/role/update",e,"POST")},K=function(){return x("/manage/user/list")},z=function(e){return x("/manage/user/delete",{userId:e},"POST")},B=function(e){return x("/manage/user/"+(e._id?"update":"add"),e,"POST")},H=function(e){return x("/manage/role/delete",{roleId:e},"POST")},J=function(e){return x("/manage/product/delete",{productId:e},"POST")},G=function(e,t){return x("/manage/category/delete",{categoryId:e,parentId:t},"POST")},$=function(e){return new Promise(function(t,a){var n="http://api.map.baidu.com/telematics/v3/weather?location=".concat(e,"&output=json&ak=3p49MVra6urFRGOT9s8UBWr2");P()(n,{},function(e,a){if(e||"success"!==a.status)E.a.error("\u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u5931\u8d25!");else{var n=a.results[0].weather_data[0],r=n.dayPictureUrl,o=n.weather;t({dayPictureUrl:r,weather:o})}})})},Q={user:{}},X=a(261),Z=a.n(X),Y={saveUser:function(e){Z.a.set("user_key",e)},getUser:function(){return Z.a.get("user_key")||{}},removeUser:function(){Z.a.remove("user_key")}},ee=O.a.Item;E.a.config({top:245,duration:1,maxCount:3});var te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(v.a)(b.a.mark(function e(t,n){var r,o,c,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=n.username,o=n.password,e.next=4,I(r,o);case 4:0===(c=e.sent).status?(s=c.data,Q.user=s,Y.saveUser(s),a.props.history.replace("/")):E.a.error(c.msg),e.next=9;break;case 8:console.log("fail validate");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.validatePwd=function(e,t,a){t?t.length<4?a("password must be more than 4 letters"):t.length>12?a("password must be less than 12 letters"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("password must be letter,number or underline"):a("Please enter password")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(Q.user&&Q.user._id)return r.a.createElement(p.a,{to:"/"});var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-header"},r.a.createElement("img",{src:k.a,alt:"logo"}),r.a.createElement("h1",null,"Backend Admin System")),r.a.createElement("section",{className:"login-content"},r.a.createElement("h2",null,"User Login"),r.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(ee,null,e("username",{rules:[{required:!0,whitespace:!0,message:"please enter username"},{min:4,message:"username must be at least 4 letters"},{max:12,message:"username must be at least 12 letters"},{pattern:/^[a-zA-Z0-9_]+$/,message:"username must be letter,number or underline"}],initialValue:""})(r.a.createElement(h.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"username"}))),r.a.createElement(O.a.Item,null,e("password",{rules:[{validator:this.validatePwd}]})(r.a.createElement(h.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"password"}))),r.a.createElement(O.a.Item,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Login")))))}}]),t}(n.Component),ae=O.a.create()(te),ne=(a(669),a(182)),re=(a(671),a(157)),oe=(a(674),[{title:"Home",key:"/home",icon:"home",isPublic:!0},{title:"Product",key:"/products",icon:"appstore",children:[{title:"Category Admin",key:"/category",icon:"bars"},{title:"Product Admin",key:"/product",icon:"tool"}]},{title:"User Admin",key:"/user",icon:"user"},{title:"Role Admin",key:"/role",icon:"safety"}]),ce=re.b.SubMenu,se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getMenu=function(e){var t=a.props.location.pathname;return e.map(function(e){return e.children?(e.children.find(function(e){return 0===t.indexOf(e.key)})&&(a.openKey=e.key),r.a.createElement(ce,{key:e.key,title:r.a.createElement("span",null,r.a.createElement(g.a,{type:e.icon}),r.a.createElement("span",null,e.title))},a.getMenu(e.children))):r.a.createElement(re.b.Item,{key:e.key},r.a.createElement(d.b,{to:e.key},r.a.createElement(g.a,{type:e.icon}),r.a.createElement("span",null,e.title)))})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.menuNodes=this.getMenu(oe)}},{key:"render",value:function(){var e=this.props.location.pathname;0===e.indexOf("/product")&&(e="/product");var t=this.openKey;return r.a.createElement("div",{className:"left-nav"},r.a.createElement(d.b,{to:"/",className:"left-nav-header"},r.a.createElement("img",{src:k.a,alt:"logo"}),r.a.createElement("h1",null,"Admin Platform")),r.a.createElement(re.b,{mode:"inline",theme:"dark",selectedKeys:[e],defaultOpenKeys:[t]},this.menuNodes))}}]),t}(n.Component),le=Object(p.f)(se),ie=(a(164),a(67));a(700);function ue(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}a(701);function me(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}var de=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTime:ue(Date.now()),dayPictureUrl:"",weather:""},a.logout=function(){ie.a.confirm({content:"confirm to logout?",onOk:function(){Y.removeUser(),Q.user={},a.props.history.replace("/login")}})},a.getTitle=function(){var e="",t=a.props.location.pathname;return oe.forEach(function(a){if(a.key===t)e=a.title;else if(a.children){var n=a.children.find(function(e){return 0===t.indexOf(e.key)});n&&(e=n.title)}}),e},a.getTime=function(){a.intervalId=setInterval(function(){var e=ue(Date.now());a.setState({currentTime:e})},1e3)},a.getWeather=Object(v.a)(b.a.mark(function e(){var t,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("\u5e7f\u5dde");case 2:t=e.sent,n=t.dayPictureUrl,r=t.weather,a.setState({dayPictureUrl:n,weather:r});case 6:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getTime(),this.getWeather(),this.user=Y.getUser()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.getTitle(),t=this.user||{};return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top"},r.a.createElement("span",null,"Welcome,",t.username),r.a.createElement(me,{onClick:this.logout},"Logout")),r.a.createElement("div",{className:"header-bottom"},r.a.createElement("div",{className:"header-bottom-left"},e),r.a.createElement("div",{className:"header-bottom-right"},r.a.createElement("span",null,this.state.currentTime))))}}]),t}(n.Component),pe=Object(p.f)(de),fe=(a(702),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},"Welcome to Admin Platform")}}]),t}(n.Component)),he=(a(118),a(60)),ge=(a(249),a(127)),ye=(a(225),a(79)),be=O.a.Item,ve=ye.a.Option,Ee=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.categorys,a=e.parentId,n=this.props.form.getFieldDecorator;return r.a.createElement(O.a,null,r.a.createElement(be,null,n("parentId",{initialValue:a})(r.a.createElement(ye.a,null,r.a.createElement(ve,{value:"0"},"First Level Category"),t.map(function(e){return r.a.createElement(ve,{value:e._id},e.name)})))),r.a.createElement(be,null,n("categoryName",{initialValue:"",rules:[{required:!0,message:"Category name is required"}]})(r.a.createElement(h.a,{placeholder:"Please enter category name"}))))}}]),t}(n.Component),Oe=O.a.create()(Ee),we=O.a.Item,ke=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.categoryName,t=this.props.form.getFieldDecorator;return r.a.createElement(O.a,null,r.a.createElement(we,null,t("categoryName",{initialValue:e,rules:[{required:!0,message:"Category name is required"}]})(r.a.createElement(h.a,{placeholder:"Please enter category name"}))))}}]),t}(n.Component),je=O.a.create()(ke),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1,categorys:[],subCategorys:[],parentId:"0",parentName:"",showStatus:0},a.initColumns=function(){a.columns=[{title:"Category Name",dataIndex:"name"},{title:"Operation",width:300,render:function(e){return r.a.createElement("span",null,r.a.createElement(me,{onClick:function(){return a.showUpdate(e)}},"Modify Category"),"0"===a.state.parentId?r.a.createElement(me,{onClick:function(){return a.showSubCategorys(e)}},"View SubCategory"):null,r.a.createElement(me,{onClick:function(){return a.deleteCategory(e)}},"delete"))}}]},a.getCategorys=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),t=t||a.state.parentId,e.next=4,A(t);case 4:n=e.sent,a.setState({loading:!1}),0===n.status?(r=n.data,"0"===t?(a.setState({categorys:r}),console.log("----",a.state.categorys.length)):a.setState({subCategorys:r})):E.a.error("fail to get categorys list");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.showCategorys=function(){a.setState({parentId:"0",parentName:""})},a.deleteCategory=function(e){ie.a.confirm({title:"confirm to delete ".concat(e.name,"?"),onOk:function(){var t=Object(v.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e._id,e.parentId);case 2:0===t.sent.status&&(E.a.success("Delete category successfully!"),a.getCategorys());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.showAdd=function(){a.setState({showStatus:1})},a.addCategory=function(){a.form.validateFields(function(){var e=Object(v.a)(b.a.mark(function e(t,n){var r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return a.setState({showStatus:0}),r=n.parentId,o=n.categoryName,a.form.resetFields(),e.next=6,T({parentId:r,categoryName:o});case 6:0===e.sent.status&&a.getCategorys(r);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.showUpdate=function(e){a.category=e,a.setState({showStatus:2})},a.updateCategory=function(){a.form.validateFields(function(){var e=Object(v.a)(b.a.mark(function e(t,n){var r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return a.setState({showStatus:0}),r=a.category._id,o=n.categoryName,a.form.resetFields(),e.next=7,U({categoryId:r,categoryName:o});case 7:0===e.sent.status&&a.getCategorys();case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleCancel=function(){a.setState({showStatus:0})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"showSubCategorys",value:function(e){var t=this;this.setState({parentId:e._id,parentName:e.name},function(){t.getCategorys()})}},{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getCategorys()}},{key:"render",value:function(){var e=this,t=this.state,a=t.categorys,n=t.subCategorys,o=t.parentId,c=t.parentName,s=t.loading,l=t.showStatus,i=this.category||{},u="0"===o?"First Level Category List":r.a.createElement("span",null,r.a.createElement(me,{onClick:this.showCategorys},"First Level Category List"),r.a.createElement(g.a,{type:"arrow-right",style:{marginRight:5}}),r.a.createElement("span",{style:{color:"#1da57a"}},c)),m=r.a.createElement(f.a,{type:"primary",onClick:this.showAdd},r.a.createElement(g.a,{type:"plus"}),"Add");return r.a.createElement(he.a,{title:u,extra:m},r.a.createElement(ge.a,{bordered:!0,rowKey:"_id",loading:s,dataSource:"0"===o?a:n,columns:this.columns,pagination:{defaultPageSize:5,showQuickJumper:!0}}),r.a.createElement(ie.a,{title:"Add Category",visible:1===l,onOk:this.addCategory,onCancel:this.handleCancel,key:"1"},r.a.createElement(Oe,{categorys:a,parentId:o,setForm:function(t){e.form=t}})),r.a.createElement(ie.a,{title:"Update Category",visible:2===l,onOk:this.updateCategory,onCancel:this.handleCancel,key:"2"},r.a.createElement(je,{categoryName:i.name,setForm:function(t){e.form=t}})))}}]),t}(n.Component),Se=3,xe="http://3.26.2.229/upload/",Ne=ye.a.Option,Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={total:0,products:[],loading:!1,searchName:"",searchType:"productName"},a.initColumns=function(){a.columns=[{title:"Product Name",dataIndex:"name"},{title:"Product Description",dataIndex:"desc"},{title:"Price",dataIndex:"price",render:function(e){return"$"+e}},{width:100,title:"Status",render:function(e){var t=e.status,n=e._id,o=1===t?2:1;return r.a.createElement("span",null,r.a.createElement(f.a,{type:"primary",style:{width:"100%"},onClick:function(){return a.updateStatus(n,o)}},1===t?"Not To Sale":"To Sale"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("span",null,1===t?"On Sale":"Not on Sale")))}},{width:100,title:"Operation",render:function(e){return r.a.createElement("span",null,r.a.createElement(me,{onClick:function(){a.props.history.push("/product/detail",{product:e})}},"Details"),r.a.createElement(me,{onClick:function(){a.props.history.push("/product/addupdate",e)}},"Modify"),r.a.createElement(me,{onClick:function(){return a.deleteProduct(e)}},"delete"))}}]},a.deleteProduct=function(e){ie.a.confirm({title:"confirm to delete ".concat(e.name,"?"),onOk:function(){var t=Object(v.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e._id);case 2:0===t.sent.status&&(E.a.success("Delete Product successfully!"),a.getProducts(1));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.getProducts=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r,o,c,s,l,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.pageNum=t,a.setState({loading:!0}),n=a.state,r=n.searchName,o=n.searchType,c={},console.log(r),!r){e.next=12;break}return e.next=8,R(t,Se,r,o);case 8:c=e.sent,console.log("search",c),e.next=15;break;case 12:return e.next=14,D(t,Se);case 14:c=e.sent;case 15:a.setState({loading:!1}),0===c.status&&(s=c.data,l=s.total,i=s.list,a.setState({total:l,products:i}));case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateStatus=function(){var e=Object(v.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,n);case 2:0===e.sent.status&&(E.a.success("update product successfully!"),a.getProducts(a.pageNum));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getProducts(1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.total,o=t.loading,c=t.searchName,s=t.searchType,l=r.a.createElement("span",null,r.a.createElement(ye.a,{value:s,style:{width:150},onChange:function(t){return e.setState({searchType:t})}},r.a.createElement(Ne,{value:"productName"},"Search On Name"),r.a.createElement(Ne,{value:"productDesc"},"Search On Desc")),r.a.createElement(h.a,{placeholder:"Keyword",style:{width:150,margin:"0 15px"},value:c,onChange:function(t){return e.setState({searchName:t.target.value})}}),r.a.createElement(f.a,{type:"primary",onClick:function(){return e.getProducts(1)}},"Search")),i=r.a.createElement("span",null,r.a.createElement(f.a,{type:"primary",onClick:function(){e.props.history.push("/product/addupdate")}},r.a.createElement(g.a,{type:"plus"}),"Add Product"));return r.a.createElement(he.a,{title:l,extra:i},r.a.createElement(ge.a,{bordered:!0,loading:o,dataSource:a,columns:this.columns,rowKey:"_id",pagination:{current:this.pageNum,defaultPageSize:Se,total:n,showQuickJumper:!0,onChange:this.getProducts}}))}}]),t}(n.Component),Ie=(a(767),a(519)),Ae=a(209),_e=a(175),Te=(a(1219),a(518)),Ue=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={previewVisible:!1,previewImage:"",fileList:[]},a.getImgs=function(){return a.state.fileList.map(function(e){return e.name})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){console.log("handlePreview()",e),a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.handleChange=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r,o,c,s,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.fileList,console.log("handleChange()",n.status,r.length,n===r[r.length-1]),"done"!==n.status){e.next=7;break}0===(o=n.response).status?(E.a.success("upload successfully!"),c=o.data,s=c.name,l=c.url,(n=r[r.length-1]).name=s,n.url=l):E.a.error("upload failed"),e.next=13;break;case 7:if("removed"!==n.status){e.next=13;break}return console.log(n),e.next=11,L(n.name);case 11:0===e.sent.status?E.a.success("delete successfully!"):E.a.error("delete failed!");case 13:a.setState({fileList:r});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var n=[],r=a.props.imgs;return r&&r.length>0&&(n=r.map(function(e,t){return{uid:-t,name:e,status:"done",url:xe+e}})),a.state={previewVisible:!1,previewImage:"",fileList:n},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,o=r.a.createElement("div",null,r.a.createElement(g.a,{type:"plus"}),r.a.createElement("div",null,"Upload"));return r.a.createElement("div",null,r.a.createElement(Te.a,{action:"/manage/img/upload",accept:"image/*",name:"image",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=4?null:o),r.a.createElement(ie.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(r.a.Component),De=a(130),Re=a(514),Me=a(515),Fe=a.n(Me),Le=a(516),Ve=a.n(Le),We=(a(901),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={editorState:De.EditorState.createEmpty()},a.onEditorStateChange=function(e){console.log("onEditorStateChange()"),a.setState({editorState:e})},a.getDetail=function(){return Fe()(Object(De.convertToRaw)(a.state.editorState.getCurrentContent()))},a.uploadImageCallBack=function(e){return new Promise(function(t,a){var n=new XMLHttpRequest;n.open("POST","/manage/img/upload");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",function(){var e=JSON.parse(n.responseText).data.url;t({data:{link:e}})}),n.addEventListener("error",function(){var e=JSON.parse(n.responseText);a(e)})})};var n=a.props.detail;if(n){var r=Ve()(n),o=De.ContentState.createFromBlockArray(r.contentBlocks),c=De.EditorState.createWithContent(o);a.state={editorState:c}}else a.state={editorState:De.EditorState.createEmpty()};return a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.editorState;return r.a.createElement(Re.Editor,{editorState:e,editorStyle:{border:"1px solid black",minHeight:200,paddingLeft:10},onEditorStateChange:this.onEditorStateChange,toolbar:{image:{uploadCallback:this.uploadImageCallBack,alt:{present:!0,mandatory:!0}}}})}}]),t}(n.Component)),qe=O.a.Item,Ke=h.a.TextArea,ze=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={options:[]},a.initOptions=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r,o,c,s,l,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.map(function(e){return{value:e._id,label:e.name,isLeaf:!1}}),r=Object(_e.a)(a),o=r.isUpdate,c=r.product,s=c.pCategoryId,!o||"0"===s){e.next=10;break}return e.next=6,a.getCategorys(s);case 6:l=e.sent,i=l.map(function(e){return{value:e._id,label:e.name,isLeaf:!0}}),n.find(function(e){return e.value===s}).children=i;case 10:a.setState({options:n});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getCategorys=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:if(0!==(n=e.sent).status){e.next=10;break}if(r=n.data,"0"!==t){e.next=9;break}a.initOptions(r),e.next=10;break;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.validatePrice=function(e,t,a){1*t>0?a():a("price must be more than 0")},a.loadData=function(){var e=Object(v.a)(b.a.mark(function e(t){var n,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t[0]).loading=!0,e.next=4,a.getCategorys(n.value);case 4:r=e.sent,n.loading=!1,r&&r.length>0?(o=r.map(function(e){return{value:e._id,label:e.name,isLeaf:!0}}),n.children=o):n.isLeaf=!0,a.setState({options:Object(Ae.a)(a.state.options)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(){a.props.form.validateFields(function(){var e=Object(v.a)(b.a.mark(function e(t,n){var r,o,c,s,l,i,u,m,d;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=13;break}return r=n.name,o=n.desc,c=n.price,1===(s=n.categoryIds).length?(l="0",i=s[0]):(l=s[0],i=s[1]),u=a.pw.current.getImgs(),m=a.editor.current.getDetail(),console.log(m),d={name:r,desc:o,price:c,imgs:u,detail:m,pCategoryId:l,categoryId:i},a.isUpdate&&(d._id=a.product._id),console.log(d),e.next=11,F(d);case 11:0===e.sent.status?E.a.success("".concat(a.isUpdate?"Update":"Add","product sucessfully!")):E.a.success("".concat(a.isUpdate?"Update":"Add","product failed"));case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.pw=r.a.createRef(),a.editor=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCategorys("0")}},{key:"componentWillMount",value:function(){var e=this.props.location.state;this.isUpdate=!!e,this.product=e||{}}},{key:"render",value:function(){var e=this,t=this.isUpdate,a=this.product,n=a.pCategoryId,o=a.categoryId,c=a.imgs,s=a.detail,l=[];t&&("0"===n?l.push(o):(l.push(n),l.push(o)));var i={labelCol:{span:2},wrapperCol:{span:8}},u=r.a.createElement("span",null,r.a.createElement(me,{onClick:function(){e.props.history.goBack()}},r.a.createElement(g.a,{type:"arrow-left",style:{fontSize:20}})),r.a.createElement("span",null,t?"Modify Product":"Add Product")),m=this.props.form.getFieldDecorator;return r.a.createElement(he.a,{title:u},r.a.createElement(O.a,i,r.a.createElement(qe,{label:"Name"},m("name",{initialValue:a.name,rules:[{required:!0,message:"product name is required"}]})(r.a.createElement(h.a,{placeholder:"Please enter product name"}))),r.a.createElement(qe,{label:"Description"},m("desc",{initialValue:a.desc,rules:[{required:!0,message:"product description is required"}]})(r.a.createElement(Ke,{placeholder:"Please enter product description",autosize:{minRows:2,maxRows:6}}))),r.a.createElement(qe,{label:"Price"},m("price",{initialValue:a.price,rules:[{required:!0,message:"product price is required"},{validator:this.validatePrice}]})(r.a.createElement(h.a,{type:"number",placeholder:"Please enter product price",addonAfter:"Dollors"}))),r.a.createElement(qe,{label:"Category"},m("categoryIds",{initialValue:l,rules:[{required:!0,message:"product category is required"}]})(r.a.createElement(Ie.a,{placeholder:"Please enter product category",options:this.state.options,loadData:this.loadData}))),r.a.createElement(qe,{label:"Images"},r.a.createElement(Ue,{ref:this.pw,imgs:c})),r.a.createElement(qe,{label:"Details",labelCol:{span:2},wrapperCol:{span:20}},r.a.createElement(We,{ref:this.editor,detail:s})),r.a.createElement(qe,null,r.a.createElement(f.a,{type:"primary",onClick:this.submit}," Submit"))))}}]),t}(n.Component),Be=O.a.create()(ze),He=(a(904),a(341)),Je=He.a.Item,Ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cName1:"",cName2:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var t,a,n,r,o,c,s,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location.state.product,a=t.pCategoryId,n=t.categoryId,"0"!==a){e.next=9;break}return e.next=4,_(n);case 4:r=e.sent,o=r.data.name,this.setState({cName1:o}),e.next=15;break;case 9:return e.next=11,Promise.all([_(a),_(n)]);case 11:c=e.sent,s=c[0].data.name,l=c[1].data.name,this.setState({cName1:s,cName2:l});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.location.state.product,a=t.name,n=t.desc,o=t.price,c=t.detail,s=t.imgs,l=this.state,i=l.cName1,u=l.cName2,m=r.a.createElement("span",null,r.a.createElement(me,null,r.a.createElement(g.a,{type:"arrow-left",style:{marginRight:10,fontSize:20},onClick:function(){return e.props.history.goBack()}})),r.a.createElement("span",null,"Product Details"));return r.a.createElement(he.a,{title:m,className:"product-detail"},r.a.createElement(He.a,null,r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Name"),r.a.createElement("span",null,a)),r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Description"),r.a.createElement("span",null,n)),r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Price"),r.a.createElement("span",null,"$",o)),r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Category"),r.a.createElement("span",null,i," ",u?" --\x3e "+u:"")),r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Images"),r.a.createElement("span",null,s.map(function(e){return r.a.createElement("img",{key:e,src:xe+e,className:"product-img",alt:"img"})}))),r.a.createElement(Je,null,r.a.createElement("span",{className:"left"},"Details"),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:c}}))))}}]),t}(n.Component),$e=(a(906),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/product",component:Pe,exact:!0})," ",r.a.createElement(p.b,{path:"/product/addupdate",component:Be}),r.a.createElement(p.b,{path:"/product/detail",component:Ge}),r.a.createElement(p.a,{to:"/product"}))}}]),t}(n.Component)),Qe=O.a.Item,Xe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(O.a,null,r.a.createElement(Qe,Object.assign({label:"Role Name:"},{labelCol:{span:5},wrapperCol:{span:15}}),e("roleName",{initialValue:"",rules:[{required:!0,message:"Role name is required"}]})(r.a.createElement(h.a,{placeholder:"Please enter role name"}))))}}]),t}(n.Component),Ze=O.a.create()(Xe),Ye=(a(907),a(340)),et=O.a.Item,tt=Ye.a.TreeNode,at=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getMenus=function(){return a.state.checkedKeys},a.getTreeNodes=function(e){var t=[];return e.forEach(function(e){t.push(r.a.createElement(tt,{title:e.title,key:e.key},e.children?a.getTreeNodes(e.children):null))}),t},a.onCheck=function(e){console.log("onCheck",e),a.setState({checkedKeys:e})};var n=a.props.role.menus;return a.state={checkedKeys:n},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.treeNodes=this.getTreeNodes(oe)}},{key:"componentWillReceiveProps",value:function(e){var t=e.role.menus;this.setState({checkedKeys:t})}},{key:"render",value:function(){var e=this.props.role,t=this.state.checkedKeys;return r.a.createElement("div",null,r.a.createElement(et,Object.assign({label:"Role Name"},{labelCol:{span:4},wrapperCol:{span:15}}),r.a.createElement(h.a,{value:e.name,disabled:!0})),r.a.createElement(Ye.a,{checkable:!0,defaultExpandAll:!0,checkedKeys:t,onCheck:this.onCheck},r.a.createElement(tt,{title:"System Permission",key:"all"},this.treeNodes)))}}]),t}(n.PureComponent),nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={roles:[],role:{},isShowAdd:!1,isShowAuth:!1},a.initColumn=function(){a.columns=[{title:"Role",dataIndex:"name"},{title:"Create_Time",dataIndex:"create_time",render:ue},{title:"Auth_Time",dataIndex:"auth_time",render:ue},{title:"Auth_Name",dataIndex:"auth_name"},{title:"Operation",render:function(e){return r.a.createElement("span",null,r.a.createElement(me,{onClick:function(){return a.deleteRole(e)}},"delete"))}}]},a.deleteRole=function(e){ie.a.confirm({title:"confirm to delete ".concat(e.name,"?"),onOk:function(){var t=Object(v.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e._id);case 2:0===t.sent.status&&(E.a.success("Delete role successfully!"),a.getRoles());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.getRoles=Object(v.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===(t=e.sent).status&&(n=t.data,a.setState({roles:n}));case 4:case"end":return e.stop()}},e)})),a.onRow=function(e){return{onClick:function(t){a.setState({role:e})}}},a.addRole=function(){a.form.validateFields(function(){var e=Object(v.a)(b.a.mark(function e(t,n){var r,o,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return a.setState({isShowAdd:!1}),r=n.roleName,a.form.resetFields(),e.next=6,W(r);case 6:0===(o=e.sent).status?(E.a.success("Add role successfully"),c=o.data,a.setState({roles:[].concat(Object(Ae.a)(a.state.roles),[c])}),console.log("set roles")):E.a.success("Add role failed");case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.updateRole=Object(v.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isShowAuth:!1}),t=a.state.role,n=a.auth.current.getMenus(),t.menus=n,t.auth_time=Date.now(),t.auth_name=Q.user.username,e.next=8,q(t);case 8:0===e.sent.status&&(t._id===Q.user.role_id?(Q.user={},Y.removeUser(),a.props.history.replace("/login"),E.a.success("Please logout and set role")):(E.a.success("Set role successfully"),a.setState({roles:Object(Ae.a)(a.state.roles)})));case 10:case"end":return e.stop()}},e)})),a.auth=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.initColumn()}},{key:"componentDidMount",value:function(){this.getRoles()}},{key:"render",value:function(){var e=this,t=this.state,a=t.roles,n=t.role,o=t.isShowAdd,c=t.isShowAuth,s=r.a.createElement("span",null,r.a.createElement(f.a,{type:"primary",onClick:function(){return e.setState({isShowAdd:!0})}},"Create Role")," ","\xa0\xa0",r.a.createElement(f.a,{type:"primary",disabled:!n._id,onClick:function(){return e.setState({isShowAuth:!0})}},"Role Settings"));return r.a.createElement(he.a,{title:s},r.a.createElement(ge.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.columns,pagination:{defaultPageSize:Se},rowSelection:{type:"radio",selectedRowKeys:[n._id],onSelect:function(t){e.setState({role:t})}},onRow:this.onRow}),r.a.createElement(ie.a,{title:"Add Role",visible:o,onOk:this.addRole,onCancel:function(){e.setState({isShowAdd:!1}),e.form.resetFields()}},r.a.createElement(Ze,{setForm:function(t){return e.form=t}})),r.a.createElement(ie.a,{title:"Role Permission Settings",visible:c,onOk:this.updateRole,onCancel:function(){e.setState({isShowAuth:!1})}},r.a.createElement(at,{ref:this.auth,role:n})))}}]),t}(n.Component),rt=O.a.Item,ot=ye.a.Option,ct=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.roles,a=e.user,n=this.props.form.getFieldDecorator,o={labelCol:{span:4},wrapperCol:{span:15}};return r.a.createElement(O.a,o,r.a.createElement(rt,{label:"Name"},n("username",{initialValue:a.username})(r.a.createElement(h.a,{placeholder:"Please enter name"}))),a._id?null:r.a.createElement(rt,{label:"Password"},n("password",{initialValue:a.password})(r.a.createElement(h.a,{type:"password",placeholder:"Please enter password"}))),r.a.createElement(rt,{label:"Mobile"},n("phone",{initialValue:a.phone})(r.a.createElement(h.a,{placeholder:"Please enter mobile"}))),r.a.createElement(rt,{label:"Email"},n("email",{initialValue:a.email})(r.a.createElement(h.a,{placeholder:"Please enter email"}))),r.a.createElement(rt,{label:"Role"},n("role_id",{initialValue:a.role_id})(r.a.createElement(ye.a,null,t.map(function(e){return r.a.createElement(ot,{key:e._id,value:e._id},e.name)})))))}}]),t}(n.PureComponent),st=O.a.create()(ct),lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={users:[],roles:[],isShow:!1},a.initColumns=function(){a.columns=[{title:"Name",dataIndex:"username"},{title:"Email",dataIndex:"email"},{title:"Mobile",dataIndex:"phone"},{title:"Registered Time",dataIndex:"create_time",render:ue},{title:"Role",dataIndex:"role_id",render:function(e){return a.roleNames[e]}},{title:"Operation",render:function(e){return r.a.createElement("span",null,r.a.createElement(me,{onClick:function(){return a.showUpdate(e)}},"Modify"),r.a.createElement(me,{onClick:function(){return a.deleteUser(e)}},"Delete"))}}]},a.initRoleNames=function(e){var t=e.reduce(function(e,t){return e[t._id]=t.name,e},{});a.roleNames=t},a.showAdd=function(){a.user=null,a.setState({isShow:!0})},a.showUpdate=function(e){a.user=e,a.setState({isShow:!0})},a.deleteUser=function(e){ie.a.confirm({title:"Confirm to delete ".concat(e.username,"?"),onOk:function(){var t=Object(v.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e._id);case 2:0===t.sent.status&&(E.a.success("Delete user successfully!"),console.log("delete",Object(_e.a)(a)),a.getUsers());case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.addOrUpdateUser=Object(v.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isShow:!1}),t=a.form.getFieldsValue(),a.form.resetFields(),a.user&&(t._id=a.user._id),e.next=6,B(t);case 6:0===e.sent.status&&(E.a.success("".concat(a.user?"Modify":"Add"," user successfully")),a.getUsers());case 8:case"end":return e.stop()}},e)})),a.getUsers=Object(v.a)(b.a.mark(function e(){var t,n,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:0===(t=e.sent).status&&(n=t.data,r=n.users,o=n.roles,a.initRoleNames(o),a.setState({users:r,roles:o}));case 4:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.roles,o=t.isShow,c=this.user||{},s=r.a.createElement(f.a,{type:"primary",onClick:this.showAdd},"Create User");return r.a.createElement(he.a,{title:s},r.a.createElement(ge.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.columns,pagination:{defaultPageSize:2}}),r.a.createElement(ie.a,{title:c._id?"Modify User":"Add User",visible:o,onOk:this.addOrUpdateUser,onCancel:function(){e.form.resetFields(),e.setState({isShow:!1})}},r.a.createElement(st,{setForm:function(t){return e.form=t},roles:n,user:c})))}}]),t}(n.Component),it=a(156),ut=a.n(it),mt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sales:[5,20,36,10,10,20],stores:[6,10,25,20,15,10]},a.update=function(){a.setState(function(e){return{sales:e.sales.map(function(e){return e+1}),stores:e.stores.reduce(function(e,t){return e.push(t-1),e},[])}})},a.getOption=function(e,t){return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:e},{name:"\u5e93\u5b58",type:"bar",data:t}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sales,a=e.stores;return r.a.createElement("div",null,r.a.createElement(he.a,null,r.a.createElement(f.a,{type:"primary",onClick:this.update},"\u66f4\u65b0")),r.a.createElement(he.a,{title:"\u67f1\u72b6\u56fe\u4e00"},r.a.createElement(ut.a,{option:this.getOption(t,a)})))}}]),t}(n.Component),dt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sales:[5,20,36,10,10,20],stores:[6,10,25,20,15,10]},a.update=function(){a.setState(function(e){return{sales:e.sales.map(function(e){return e+1}),stores:e.stores.reduce(function(e,t){return e.push(t-1),e},[])}})},a.getOption=function(e,t){return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"line",data:e},{name:"\u5e93\u5b58",type:"line",data:t}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sales,a=e.stores;return r.a.createElement("div",null,r.a.createElement(he.a,null,r.a.createElement(f.a,{type:"primary",onClick:this.update},"\u66f4\u65b0")),r.a.createElement(he.a,{title:"\u6298\u7ebf\u56fe\u4e00"},r.a.createElement(ut.a,{option:this.getOption(t,a)})))}}]),t}(n.Component),pt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(){return{title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},a.getOption2=function(){return{backgroundColor:"#2c343c",title:{text:"Customized Pie",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:274,name:"\u8054\u76df\u5e7f\u544a"},{value:235,name:"\u89c6\u9891\u5e7f\u544a"},{value:400,name:"\u641c\u7d22\u5f15\u64ce"}].sort(function(e,t){return e.value-t.value}),roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(he.a,{title:"\u997c\u56fe\u4e00"},r.a.createElement(ut.a,{option:this.getOption(),style:{height:300}})),r.a.createElement(he.a,{title:"\u997c\u56fe\u4e8c"},r.a.createElement(ut.a,{option:this.getOption2(),style:{height:300}})))}}]),t}(n.Component),ft=(a(371),a(131)),ht=(a(372),a(80)),gt=(a(1217),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ft.a,{className:"not-found"},r.a.createElement(ht.a,{span:12,className:"left"}),r.a.createElement(ht.a,{span:12,className:"right"},r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"Sorry, this page does not exist"),r.a.createElement("div",null,r.a.createElement(f.a,{type:"primary",onClick:function(){return e.props.history.replace("/home")}},"Return Home"))))}}]),t}(n.Component)),yt=ne.a.Footer,bt=ne.a.Sider,vt=ne.a.Content,Et=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Q.user;return console.log("admin",e,e._id),e&&e._id?r.a.createElement(ne.a,{style:{minHeight:"100%"}},r.a.createElement(bt,null,r.a.createElement(le,null)),r.a.createElement(ne.a,null,r.a.createElement(pe,null,"Header"),r.a.createElement(vt,{style:{margin:"20px",backgroundColor:"#fff"}},r.a.createElement(p.d,null,r.a.createElement(p.a,{from:"/",exact:!0,to:"/home"}),r.a.createElement(p.b,{path:"/home",component:fe}),r.a.createElement(p.b,{path:"/category",component:Ce}),r.a.createElement(p.b,{path:"/product",component:$e}),r.a.createElement(p.b,{path:"/user",component:lt}),r.a.createElement(p.b,{path:"/role",component:nt}),r.a.createElement(p.b,{path:"/charts/bar",component:mt}),r.a.createElement(p.b,{path:"/charts/pie",component:pt}),r.a.createElement(p.b,{path:"/charts/line",component:dt}),r.a.createElement(p.b,{component:gt}))),r.a.createElement(yt,{style:{textAlign:"center",color:"#cccccc"}},"Google Chrome is recommended for better page operation experience"))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),Ot=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:ae}),r.a.createElement(p.b,{path:"/",component:Et})))}}]),t}(n.Component),wt=Y.getUser();Q.user=wt,c.a.render(r.a.createElement(Ot,null),document.getElementById("root"))},250:function(e,t,a){e.exports=a.p+"static/media/logo.ba1f87ec.png"},521:function(e,t,a){e.exports=a(1218)},533:function(e,t,a){},674:function(e,t,a){},700:function(e,t,a){},701:function(e,t,a){},702:function(e,t,a){},906:function(e,t,a){}},[[521,1,2]]]);
//# sourceMappingURL=main.992e80f6.chunk.js.map